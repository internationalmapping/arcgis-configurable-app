<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
    <title>ArcGIS Configurable App</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="main.css" />
    <script>
        var locationPath = location.pathname.replace(/\/[^/]*$/, "");
        window.dojoConfig = {
            deps: ["app"],
            packages: [
                {
                    name: "app",
                    location: locationPath + "/"
                },
                {
                    name: "Components",
                    location: locationPath + "/assets/configurable-app-components"
                },
                {
                    name: "TemplatesCommonLib",
                    location: locationPath + "/templates-common-library"
                }
            ]
        };
    </script>
    <script src="https://js.arcgis.com/4.24/init.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').then(
                    registration => {
                        console.log(`Service Worker registered! Scope: ${registration.scope}`);
                    },
                    error => {
                        console.error(`Service Worker registration failed: ${error}`);
                    },
                );
            });
        }
    </script>
</head>
<body>
    <div class="app app--loading"></div>
</body>
</html>
